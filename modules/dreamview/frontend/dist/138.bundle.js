"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[138],{89138:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(38495);function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===a(o)?o:String(o)),r)}var o}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var s=function(){function t(){u(this,t),this.map=null,this.controls=[],this.initializedCenter=!1}return f(t,[{key:"isInitialized",value:function(){return null!==this.map&&Object.keys(this.map).length>0}},{key:"loadMap",value:function(t,e){this.map=new BMap.Map(e,{enableMapClick:!1}),this.map.enableScrollWheelZoom(),this.map.addControl(new BMap.MapTypeControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:BMAP_NAVIGATION_CONTROL_SMALL})),this.map.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL,enableGeolocation:!1}))}},{key:"setCenter",value:function(t){this.initializedCenter?this.map.setCenter(t):(this.map.centerAndZoom(t,19),this.initializedCenter=!0)}},{key:"setZoom",value:function(t){this.map.setZoom(t)}},{key:"addEventHandler",value:function(t,e){this.map.addEventListener(t,(function(t){var n=t.point;e(n)}))}},{key:"createPoint",value:function(t){var e=t.lat,n=t.lng;return new BMap.Point(n,e)}},{key:"createMarker",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=null;e&&(r=new BMap.Label(e,{point:t,offset:new BMap.Size(15,-15)}));var o=new BMap.Marker(t,{label:r,enableDragging:n,rotation:5});return o.setLabel(r),this.map.addOverlay(o),o}},{key:"createPolyline",value:function(t,e){var n={geodesic:!0,strokeColor:e,strokeOpacity:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,strokeWeight:arguments.length>3&&void 0!==arguments[3]?arguments[3]:2},r=new BMap.Polyline(t,n);return this.map.addOverlay(r),r}},{key:"createControl",value:function(t){var e=t.text,n=t.tip,r=t.color,o=t.offsetX,i=t.offsetY,a=t.onClickHandler,l=new p(e,n,r,new BMap.Size(o,i),a);this.map.addControl(l),this.controls.push(l)}},{key:"disableControls",value:function(){var t=this;this.controls.forEach((function(e){t.map.removeControl(e)}))}},{key:"enableControls",value:function(){var t=this;this.controls.forEach((function(e){t.map.addControl(e)}))}},{key:"getMarkerPosition",value:function(t){return t.getPosition()}},{key:"updatePolyline",value:function(t,e){t.setPath(e)}},{key:"removePolyline",value:function(t){this.map.removeOverlay(t)}},{key:"applyCoordinateOffset",value:function(t){var e,n,o=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,n)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return(0,r.WGS84ToBD09LL)(i,a)}}]),t}();e.default=s;var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(l,BMap.Control);var e,n,r=(e=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=i(e);if(n){var o=i(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function l(t,e,n,o,i){var a;u(this,l);for(var c=arguments.length,f=new Array(c>5?c-5:0),s=5;s<c;s++)f[s-5]=arguments[s];return(a=r.call.apply(r,[this].concat(f))).defaultAnchor=BMAP_ANCHOR_TOP_LEFT,a.defaultOffset=o,a.onClickHandler=i,a.title=e,a.text=t,a.backgroundColor=n,a}return f(l,[{key:"initialize",value:function(t){var e=this,n=document.createElement("div"),r=document.createElement("div");r.style.backgroundColor=this.backgroundColor,r.style.border="2px solid #fff",r.style.borderRadius="3px",r.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",r.style.cursor="pointer",r.style.marginBottom="22px",r.style.textAlign="center",r.title=this.title,n.appendChild(r);var o=document.createElement("div");return o.style.color="rgb(25,25,25)",o.style.fontFamily="Roboto,Arial,sans-serif",o.style.fontSize="16px",o.style.lineHeight="38px",o.style.paddingLeft="5px",o.style.paddingRight="5px",o.innerHTML=this.text,r.appendChild(o),t.getContainer().appendChild(n),r.addEventListener("click",(function(){e.onClickHandler(o)})),n}}]),l}()}}]);